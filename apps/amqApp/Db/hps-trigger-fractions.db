record(compress,"B_DAQ_HPS:VTP:avg") {
    field(INP,"B_DAQ_HPS:VTP:rate CPP")
    field(ALG,"N to 1 Average")
    field(N,20)
    field(FLNK,"B_DAQ_HPS:VTP:sum.PROC")
}
record(calc,"B_DAQ_HPS:VTP:sum") {
    field(INPA,"B_DAQ_HPS:VTP:avg")
    field(CALC,"A*20")
}
record(compress,"B_DAQ_HPS:TSGTP:avg") {
    field(INP,"B_DAQ_HPS:TSGTP:rate CPP")
    field(ALG,"N to 1 Average")
    field(N,20)
    field(FLNK,"B_DAQ_HPS:TSGTP:sum.PROC")
}
record(calc,"B_DAQ_HPS:TSGTP:sum") {
    field(INPA,"B_DAQ_HPS:TSGTP:avg")
    field(CALC,"A*20")
}
record(calc,"B_DAQ_HPS:TSGTP:frac:$(N)") {
    field(INPA,"B_DAQ_HPS:TSGTP:rate:$(N)")
    field(INPB,"B_DAQ_HPS:TSGTP:sum CPP")
    field(PREC,"1")
    field(CALC,"B>0 ? A/B*100 : 0")
}
